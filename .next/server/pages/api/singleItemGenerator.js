"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/singleItemGenerator";
exports.ids = ["pages/api/singleItemGenerator"];
exports.modules = {

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("puppeteer");

/***/ }),

/***/ "random-words":
/*!*******************************!*\
  !*** external "random-words" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("random-words");

/***/ }),

/***/ "(api)/./pages/api/singleItemGenerator.js":
/*!******************************************!*\
  !*** ./pages/api/singleItemGenerator.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ generateProduct)\n/* harmony export */ });\nconst randomWords = __webpack_require__(/*! random-words */ \"random-words\");\nconst puppeteer = __webpack_require__(/*! puppeteer */ \"puppeteer\");\nconst port = 3000;\nasync function generateProduct(req, res) {\n    let success = false;\n    let result;\n    while(!success){\n        try {\n            const randomNumber = Math.floor(Math.random() * 10);\n            var url;\n            switch(randomNumber){\n                case 0:\n                    url = \"https://www.amazon.com/s?k=pot\";\n                    break;\n                case 1:\n                    url = \"https://www.amazon.com/s?k=sofa\";\n                    break;\n                case 2:\n                    url = \"https://www.amazon.com/s?k=bedsheets\";\n                    break;\n                case 3:\n                    url = \"https://www.amazon.com/s?k=lawnmower\";\n                    break;\n                case 4:\n                    url = \"https://www.amazon.com/s?k=cellphone\";\n                    break;\n                case 5:\n                    url = \"https://www.amazon.com/s?k=curtains\";\n                    break;\n                case 6:\n                    url = \"https://www.amazon.com/s?k=shoes\";\n                    break;\n                case 7:\n                    url = \"https://www.amazon.com/s?k=\" + randomWords();\n                    break;\n                case 8:\n                    url = \"https://www.amazon.com/s?k=\" + randomWords();\n                    break;\n                case 9:\n                    url = \"https://www.amazon.com/s?k=\" + randomWords();\n                    break;\n            }\n            result = await getProduct(url);\n            console.log(!isNaN(result[1].slice(1, result[1].length - 1)));\n            if (result[0] != null && result[1] != null && result[2] != null && result[1] != 0 && !isNaN(result[1].slice(1, result[1].length - 1))) {\n                success = true;\n            }\n        } catch (Exception) {}\n    }\n    res.json({\n        name: result[0],\n        price: result[1],\n        imgUrl: result[2]\n    });\n}\nasync function getProduct(url) {\n    const browser = await puppeteer.launch({\n        headless: true,\n        args: [\n            \"--no-sandbox\",\n            \"--disable-setuid-sandbox\",\n            \"--disable-infobars\"\n        ]\n    });\n    const page = await browser.newPage();\n    await page.goto(url);\n    console.log(url);\n    const [itemTitle, itemPrice, imgUrl] = await page.evaluate(()=>{\n        var randChoice = Math.floor(Math.random() * 30 + 3);\n        console.log(randChoice);\n        const selected = document.querySelectorAll(\".s-result-item\")[randChoice];\n        const itemTitle = selected.querySelector(\".a-text-normal\").textContent;\n        const itemPrice = selected.querySelector(\".a-offscreen\").textContent;\n        const imgUrl = selected.querySelector(\".s-image\").src;\n        console.log(itemTitle + itemPrice + imgUrl);\n        return [\n            itemTitle,\n            itemPrice,\n            imgUrl\n        ];\n    });\n    await browser.close();\n    return [\n        itemTitle,\n        itemPrice,\n        imgUrl\n    ];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc2luZ2xlSXRlbUdlbmVyYXRvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUUsTUFBTUEsY0FBY0MsbUJBQU9BLENBQUM7QUFDNUIsTUFBTUMsWUFBWUQsbUJBQU9BLENBQUMsNEJBQVc7QUFDckMsTUFBTUUsT0FBTztBQUNFLGVBQWVDLGdCQUFnQkMsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDbEQsSUFBSUMsVUFBVSxLQUFLO0lBQ25CLElBQUlDO0lBQ0osTUFBTSxDQUFDRCxRQUFTO1FBQ2QsSUFBSTtZQUNGLE1BQU1FLGVBQWVDLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLO1lBQ2hELElBQUlDO1lBQ0osT0FBT0o7Z0JBQ0wsS0FBSztvQkFDSEksTUFBTTtvQkFDTixLQUFNO2dCQUNSLEtBQUs7b0JBQ0hBLE1BQU07b0JBQ04sS0FBTTtnQkFDUixLQUFLO29CQUNIQSxNQUFNO29CQUNOLEtBQU07Z0JBQ1IsS0FBSztvQkFDSEEsTUFBTTtvQkFDTixLQUFNO2dCQUNSLEtBQUs7b0JBQ0hBLE1BQU07b0JBQ04sS0FBTTtnQkFDUixLQUFLO29CQUNIQSxNQUFNO29CQUNOLEtBQU07Z0JBQ1IsS0FBSztvQkFDSEEsTUFBTTtvQkFDTixLQUFNO2dCQUNSLEtBQUs7b0JBQ0hBLE1BQU0sZ0NBQWdDYjtvQkFDdEMsS0FBTTtnQkFDUixLQUFLO29CQUNIYSxNQUFNLGdDQUFnQ2I7b0JBQ3RDLEtBQU07Z0JBQ1IsS0FBSztvQkFDSGEsTUFBTSxnQ0FBZ0NiO29CQUN0QyxLQUFNO1lBQ1Y7WUFDQVEsU0FBUyxNQUFNTSxXQUFXRDtZQUMxQkUsUUFBUUMsR0FBRyxDQUFDLENBQUNDLE1BQU1ULE1BQU0sQ0FBQyxFQUFFLENBQUNVLEtBQUssQ0FBQyxHQUFHVixNQUFNLENBQUMsRUFBRSxDQUFDVyxNQUFNLEdBQUc7WUFDekQsSUFBR1gsTUFBTSxDQUFDLEVBQUUsSUFBSSxJQUFJLElBQUlBLE1BQU0sQ0FBQyxFQUFFLElBQUksSUFBSSxJQUFJQSxNQUFNLENBQUMsRUFBRSxJQUFJLElBQUksSUFBSUEsTUFBTSxDQUFDLEVBQUUsSUFBSSxLQUFLLENBQUNTLE1BQU1ULE1BQU0sQ0FBQyxFQUFFLENBQUNVLEtBQUssQ0FBQyxHQUFHVixNQUFNLENBQUMsRUFBRSxDQUFDVyxNQUFNLEdBQUcsS0FBSztnQkFDcElaLFVBQVUsSUFBSTtZQUNoQixDQUFDO1FBQ0QsRUFBRSxPQUFPYSxXQUFXLENBQ3BCO0lBQ0o7SUFDQWQsSUFBSWUsSUFBSSxDQUFDO1FBQUVDLE1BQU1kLE1BQU0sQ0FBQyxFQUFFO1FBQUVlLE9BQU9mLE1BQU0sQ0FBQyxFQUFFO1FBQUVnQixRQUFRaEIsTUFBTSxDQUFDLEVBQUU7SUFBQztBQUN0RSxDQUFDO0FBRUQsZUFBZU0sV0FBV0QsR0FBRyxFQUFFO0lBQzdCLE1BQU1ZLFVBQVUsTUFBTXZCLFVBQVV3QixNQUFNLENBQUM7UUFDckNDLFVBQVUsSUFBSTtRQUNkQyxNQUFNO1lBQ0o7WUFDQTtZQUNBO1NBQ0Q7SUFDSDtJQUNNLE1BQU1DLE9BQU8sTUFBTUosUUFBUUssT0FBTztJQUNsQyxNQUFNRCxLQUFLRSxJQUFJLENBQUNsQjtJQUNoQkUsUUFBUUMsR0FBRyxDQUFDSDtJQUNaLE1BQU0sQ0FBQ21CLFdBQVdDLFdBQVdULE9BQU8sR0FBRyxNQUFNSyxLQUFLSyxRQUFRLENBQUMsSUFBTTtRQUMvRCxJQUFJQyxhQUFhekIsS0FBS0MsS0FBSyxDQUFFRCxLQUFLRSxNQUFNLEtBQUssS0FBSztRQUNsREcsUUFBUUMsR0FBRyxDQUFDbUI7UUFDWixNQUFNQyxXQUFXQyxTQUFTQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQ0gsV0FBVztRQUN4RSxNQUFNSCxZQUFZSSxTQUFTRyxhQUFhLENBQUMsa0JBQWtCQyxXQUFXO1FBQ3RFLE1BQU1QLFlBQVlHLFNBQVNHLGFBQWEsQ0FBQyxnQkFBZ0JDLFdBQVc7UUFDcEUsTUFBTWhCLFNBQVNZLFNBQVNHLGFBQWEsQ0FBQyxZQUFZRSxHQUFHO1FBQ3JEMUIsUUFBUUMsR0FBRyxDQUFDZ0IsWUFBWUMsWUFBWVQ7UUFDcEMsT0FBTztZQUFDUTtZQUFXQztZQUFXVDtTQUFPO0lBQ3ZDO0lBRUEsTUFBTUMsUUFBUWlCLEtBQUs7SUFDbkIsT0FBTztRQUFDVjtRQUFXQztRQUFXVDtLQUFPO0FBRTdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW1hem9uc2hvd2Rvd25nYW1lZ2FtZS8uL3BhZ2VzL2FwaS9zaW5nbGVJdGVtR2VuZXJhdG9yLmpzPzg0YTMiXSwic291cmNlc0NvbnRlbnQiOlsiICBjb25zdCByYW5kb21Xb3JkcyA9IHJlcXVpcmUoJ3JhbmRvbS13b3JkcycpO1xyXG4gIGNvbnN0IHB1cHBldGVlciA9IHJlcXVpcmUoXCJwdXBwZXRlZXJcIik7XHJcbiAgY29uc3QgcG9ydCA9IDMwMDBcclxuICBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVByb2R1Y3QocmVxLCByZXMpIHtcclxuICAgICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgd2hpbGUoIXN1Y2Nlc3MpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuICAgICAgICAgICAgdmFyIHVybDtcclxuICAgICAgICAgICAgc3dpdGNoKHJhbmRvbU51bWJlcikge1xyXG4gICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cHM6Ly93d3cuYW1hem9uLmNvbS9zP2s9cG90XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHBzOi8vd3d3LmFtYXpvbi5jb20vcz9rPXNvZmFcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cHM6Ly93d3cuYW1hem9uLmNvbS9zP2s9YmVkc2hlZXRzXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHBzOi8vd3d3LmFtYXpvbi5jb20vcz9rPWxhd25tb3dlclwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgdXJsID0gXCJodHRwczovL3d3dy5hbWF6b24uY29tL3M/az1jZWxscGhvbmVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cHM6Ly93d3cuYW1hem9uLmNvbS9zP2s9Y3VydGFpbnNcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cHM6Ly93d3cuYW1hem9uLmNvbS9zP2s9c2hvZXNcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cHM6Ly93d3cuYW1hem9uLmNvbS9zP2s9XCIgKyByYW5kb21Xb3JkcygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgdXJsID0gXCJodHRwczovL3d3dy5hbWF6b24uY29tL3M/az1cIiArIHJhbmRvbVdvcmRzKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHBzOi8vd3d3LmFtYXpvbi5jb20vcz9rPVwiICsgcmFuZG9tV29yZHMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGdldFByb2R1Y3QodXJsKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coIWlzTmFOKHJlc3VsdFsxXS5zbGljZSgxLCByZXN1bHRbMV0ubGVuZ3RoIC0gMSkpKTtcclxuICAgICAgICAgICAgaWYocmVzdWx0WzBdICE9IG51bGwgJiYgcmVzdWx0WzFdICE9IG51bGwgJiYgcmVzdWx0WzJdICE9IG51bGwgJiYgcmVzdWx0WzFdICE9IDAgJiYgIWlzTmFOKHJlc3VsdFsxXS5zbGljZSgxLCByZXN1bHRbMV0ubGVuZ3RoIC0gMSkpKSB7XHJcbiAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLmpzb24oeyBuYW1lOiByZXN1bHRbMF0sIHByaWNlOiByZXN1bHRbMV0sIGltZ1VybDogcmVzdWx0WzJdIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdCh1cmwpIHtcclxuICAgIGNvbnN0IGJyb3dzZXIgPSBhd2FpdCBwdXBwZXRlZXIubGF1bmNoKHtcclxuICAgICAgaGVhZGxlc3M6IHRydWUsXHJcbiAgICAgIGFyZ3M6IFtcclxuICAgICAgICAnLS1uby1zYW5kYm94JyxcclxuICAgICAgICAnLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94JyxcclxuICAgICAgICAnLS1kaXNhYmxlLWluZm9iYXJzJyxcclxuICAgICAgXVxyXG4gICAgfSk7XHJcbiAgICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgYnJvd3Nlci5uZXdQYWdlKCk7XHJcbiAgICAgICAgICBhd2FpdCBwYWdlLmdvdG8odXJsKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHVybCk7XHJcbiAgICAgICAgICBjb25zdCBbaXRlbVRpdGxlLCBpdGVtUHJpY2UsIGltZ1VybF0gPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHJhbmRDaG9pY2UgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMzAgKyAzKSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJhbmRDaG9pY2UpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zLXJlc3VsdC1pdGVtJylbcmFuZENob2ljZV07XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1UaXRsZSA9IHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3IoJy5hLXRleHQtbm9ybWFsJykudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1QcmljZSA9IHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3IoJy5hLW9mZnNjcmVlbicpLnRleHRDb250ZW50OyBcclxuICAgICAgICAgICAgY29uc3QgaW1nVXJsID0gc2VsZWN0ZWQucXVlcnlTZWxlY3RvcignLnMtaW1hZ2UnKS5zcmM7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW1UaXRsZSArIGl0ZW1QcmljZSArIGltZ1VybCk7XHJcbiAgICAgICAgICAgIHJldHVybiBbaXRlbVRpdGxlLCBpdGVtUHJpY2UsIGltZ1VybF07XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgYXdhaXQgYnJvd3Nlci5jbG9zZSgpO1xyXG4gICAgICAgICAgcmV0dXJuIFtpdGVtVGl0bGUsIGl0ZW1QcmljZSwgaW1nVXJsXTtcclxuICAgICAgICBcclxuICB9Il0sIm5hbWVzIjpbInJhbmRvbVdvcmRzIiwicmVxdWlyZSIsInB1cHBldGVlciIsInBvcnQiLCJnZW5lcmF0ZVByb2R1Y3QiLCJyZXEiLCJyZXMiLCJzdWNjZXNzIiwicmVzdWx0IiwicmFuZG9tTnVtYmVyIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidXJsIiwiZ2V0UHJvZHVjdCIsImNvbnNvbGUiLCJsb2ciLCJpc05hTiIsInNsaWNlIiwibGVuZ3RoIiwiRXhjZXB0aW9uIiwianNvbiIsIm5hbWUiLCJwcmljZSIsImltZ1VybCIsImJyb3dzZXIiLCJsYXVuY2giLCJoZWFkbGVzcyIsImFyZ3MiLCJwYWdlIiwibmV3UGFnZSIsImdvdG8iLCJpdGVtVGl0bGUiLCJpdGVtUHJpY2UiLCJldmFsdWF0ZSIsInJhbmRDaG9pY2UiLCJzZWxlY3RlZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsInNyYyIsImNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/singleItemGenerator.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/singleItemGenerator.js"));
module.exports = __webpack_exports__;

})();